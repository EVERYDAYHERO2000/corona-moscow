<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>Коронавирус в Москве</title>
    <meta name="description" content="Хронология распространения COVID-19 в Москве и Московской области">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.min.css">
    <script src="js/chartist.min.js"></script>
    <script src="js/chartist-plugin-pointlabels.min.js"></script>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
    
    <meta property="og:locale" content="ru_RU">
    <meta property="og:url" content="https://corona-moscow.ru/">
    <meta property="og:site_name" content="Коронавирус в Москве">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Коронавирус в Москве">
    <meta property="og:description" content="Хронология распространения COVID-19 в Москве и Московской области">
    <meta property="og:image" content="https://corona-moscow.ru/cover.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Коронавирус в Москве">
    <meta name="twitter:description" content="Хронология распространения COVID-19 в Москве и Московской области">
    <meta name="twitter:image" content="https://corona-moscow.ru/cover.png">
    <meta name="twitter:url" content="https://corona-moscow.ru/">
    
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

       ym(61848943, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
       });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/61848943" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    
  </head>
  <body style="overflow: auto;" class="metrics-page">

    <div class="screen screen_created">
        <div class="screen__description">
            <h1>Хронология распространения COVID-19 в Москве и Московской области</h1>
            <p id="content-description"></p>
            <p>Источники данных: <a target="_blank" href="https://www.rospotrebnadzor.ru/">Роспотребнадзор</a>, <a target="_blank" href="https://ru.wikipedia.org/wiki/Хронология_распространения_COVID-19_в_России">Википедия</a>, <a target="_blank" href="https://mz.mosreg.ru/">Министерство здравоохранения МО</a>, <a target="_blank" href="https://t.me/COVID2019_official">Оперштаб Москвы по коронавирусу</a></p>
            <p><a href="/">Посмотреть на карте</a></p>
        </div>    
    </div>    

    <div class="screen">
        <div class="screen__description">
            <h3>Всего</h3>
            <p></p>
        </div>    
        <div id="allCases" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-red">Заражения</div>
            <div class="color color-red-light">Болеют</div>
            <div class="color color-green">Выздоровления</div>
            <div class="color color-black">Смерти</div>
        </div>    
    </div>    

    <div class="screen">
        <div class="screen__description">
            <h3>Новые</h3>
            <p>Суточная динамика новых заболевших, выздоровлений и смертей</p>
        </div>
        <div id="newCases" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-red">Заражения</div>
            <div class="color color-green">Выздоровления</div>
            <div class="color color-black">Смерти</div>
        </div> 
    </div>

    <div class="screen screen_created">
        <div class="screen__description">
            <h3>Как мы делали прогноз</h3>
            <p>Мы исходили из того, что динамика эпидемий описывается с помощью <a target="_blank" href="https://en.wikipedia.org/wiki/Logistic_function">логистической кривой</a>.</p>
            <p>Данная кривая имеет три параметра: <br>
                <i>Максимум</i> — сколько всего человек заболеет.<br>
                <i>Точка перегиба</i> — дата середины эпидемии. В идеале — день, когда количество новых случаев в день достигает максимума, но в реальности этот день обычно не совпадает с серединой эпидемии.<br>
                <i>Наклон кривой</i>. Вначале мы подгоняли логистическую кривую под данные о суммарном количестве случаев. При этом получались слишком оптимистичные результаты, например, максимум был примерно равен общему числу случаев за последний день, либо пик эпидемии приходился на последний день исходных данных.
            </p>
            <p>Поэтому мы решили подгонять первую производную логистической кривой, характеризующую скорость роста функции, под данные о новых случаях. Это дало более реалистичные результаты.</p>
            <p>Формула этой производной имеет те же самые параметры, что и сама логистическая кривая. Получив эти параметры, мы далее использовали их для построения графика прогноза общего числа заболевших.</p>
            <p>Для прогнозирования числа выздоровевших и умерших, мы подгоняли логистическую кривую (не производную) под данные об общем числе выздоровевших и умерших. При этом мы ограничили максимум умерших, исходя из значения смертности на последний день данных. Максимум выздоровевших также ограничили значением разности предсказанных максимумов заболевших и умерших.</p>
        </div>  
    </div>

    <div class="screen">
        <div class="screen__description">
            <h3>Всего (логарифмический масштаб)</h3>
            <p></p>
        </div>    
        <div id="allCasesLog" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-red">Заражения</div>
            <div class="color color-green">Выздоровления</div>
            <div class="color color-black">Смерти</div>
        </div>    
    </div> 

    <div class="screen">
        <div class="screen__description">
            <h3>Динамика к предыдущему дню</h3>
            <p>Колебания кривой свидетельствуют о значительности изменений суточных значений</p>
        </div>
        <div id="rate" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-red">Заражения</div>
            <div class="color color-green">Выздоровления</div>
            <div class="color color-black">Смерти</div>
        </div> 
    </div>

    <div class="screen">
        <div class="screen__description">
            <h3>Тестирование</h3>
            <p>Кумулятивный прирост тестов и выявленных случаев</p>
        </div>
        <div id="testsPerPeriod" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-blue">Тесты</div>
            <div class="color color-red">Заражения</div>
        </div> 
    </div>    

    <div class="screen">
        <div class="screen__description">
            <h3>Выявляемость</h3>
            <p>Выявляемость новых случаев по результатам тестирования</p>
        </div>
        <div id="detectability" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-red"><span>Выявляемость</span> 
            <div class="code">всего заражений / всего тестов * 100%</div>    
        </div>
        </div> 
    </div>

    <div class="screen">
        <div class="screen__description">
            <h3>Летальность</h3>
            <p>Во время эпидемии, оценка летальности может быть сделана как на основе всех подтвержденных случаев, так и только по завершённым случаям (с учётом только тех пациентов, которые уже выздоровели или умерли). На начальной стадии эпидемии, когда число завершённых случаев относительно невелико, оценка летальности по завершённым случаям оказывается завышенной. И наоборот, оценка летальности по всем подтверждённым случаям оказывается заниженной. С течением времени эти оценки сближаются.</p>
        </div>
        <div id="mortalyty" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-black"><span>Летальность 1</span> 
                <div class="code">всего смертей / (всего смертей + всего выздоровлений) * 100%</div>
            </div>
            <div class="color color-black-light"><span>Летальность 2 (ВОЗ)</span> 
                <div class="code">всего смертей / всего заболело * 100%</div>
            </div>
        </div> 
    </div>

    <div class="screen">
        <div class="screen__description">
            <h3>Возраст заболевших</h3>
            <p></p>
        </div>
        <div id="age" class="chart"></div>
        <div class="screen__legend">
            <div class="color color-с_1">Дети</div>
            <div class="color color-с_2">18–45</div>
            <div class="color color-с_3">46–65</div>
            <div class="color color-с_4">66-79</div>
            <div class="color color-с_5">80+</div>
        </div> 
    </div>

    <script src="js/metrics.js" type="module"></script>
    
  </body>
</html>
